<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Paul Cutler">
<meta name="description" content="I’m glad I started with the Python for Everybody specialization at Coursera before jumping into Python Jumpstart by building 10 Python Apps by Michael Kennedy. Mr. Kennedy moves fast. I’ve completed the first four apps and it’s good to get a refresher on the information I learned in Python for Everybody.
I also spent part of the weekend sketching in a notebook. I did some brainstorming about the database design I’ll need for NFLPool." />
<meta name="keywords" content="Paul Cutler, NFLPool, Python" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://paulcutler.org/blog/2016/10/nflpool-json/" />


    <title>
        
            Building the NFLPool webapp – Starting with JSON :: Paul Cutler  — Paul Cutler Homepage
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://paulcutler.org/main.d7bdd8ee18bfbf4c605488a7e5b1b92cd980dfeed2bdaeab4dd5e931a7a78bc0.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://paulcutler.org/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://paulcutler.org/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://paulcutler.org/favicon-16x16.png">
    <link rel="manifest" href="https://paulcutler.org/site.webmanifest">
    <link rel="mask-icon" href="https://paulcutler.org/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://paulcutler.org/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="Building the NFLPool webapp – Starting with JSON">
<meta itemprop="description" content="I’m glad I started with the Python for Everybody specialization at Coursera before jumping into Python Jumpstart by building 10 Python Apps by Michael Kennedy. Mr. Kennedy moves fast. I’ve completed the first four apps and it’s good to get a refresher on the information I learned in Python for Everybody.
I also spent part of the weekend sketching in a notebook. I did some brainstorming about the database design I’ll need for NFLPool.">
<meta itemprop="datePublished" content="2016-10-10T13:22:08+00:00" />
<meta itemprop="dateModified" content="2016-10-10T13:22:08+00:00" />
<meta itemprop="wordCount" content="637">
<meta itemprop="image" content="https://paulcutler.org"/>



<meta itemprop="keywords" content="NFLPool,Python," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://paulcutler.org"/>

<meta name="twitter:title" content="Building the NFLPool webapp – Starting with JSON"/>
<meta name="twitter:description" content="I’m glad I started with the Python for Everybody specialization at Coursera before jumping into Python Jumpstart by building 10 Python Apps by Michael Kennedy. Mr. Kennedy moves fast. I’ve completed the first four apps and it’s good to get a refresher on the information I learned in Python for Everybody.
I also spent part of the weekend sketching in a notebook. I did some brainstorming about the database design I’ll need for NFLPool."/>




    <meta property="og:title" content="Building the NFLPool webapp – Starting with JSON" />
<meta property="og:description" content="I’m glad I started with the Python for Everybody specialization at Coursera before jumping into Python Jumpstart by building 10 Python Apps by Michael Kennedy. Mr. Kennedy moves fast. I’ve completed the first four apps and it’s good to get a refresher on the information I learned in Python for Everybody.
I also spent part of the weekend sketching in a notebook. I did some brainstorming about the database design I’ll need for NFLPool." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://paulcutler.org/blog/2016/10/nflpool-json/" />
<meta property="og:image" content="https://paulcutler.org"/>
<meta property="article:published_time" content="2016-10-10T13:22:08+00:00" />
<meta property="article:modified_time" content="2016-10-10T13:22:08+00:00" />




    <meta property="article:section" content="Python" />



    <meta property="article:published_time" content="2016-10-10 13:22:08 &#43;0000 &#43;0000" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://paulcutler.org/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text"> paulcutler.org</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://paulcutler.org/about/">About</a></li><li><a href="https://paulcutler.org/posts/">Blog</a></li><li><a href="https://paulcutler.org/project/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="header__right">
                <a href="https://paulcutler.org/spinning">
                <a title="Now Spinning" href="https://paulcutler.org/spinning/"><img width="32" alt="Vinyl record" src="https://paulcutler.org/img/vinyl.png"></a>
            </span>

        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://paulcutler.org/blog/2016/10/nflpool-json/">Building the NFLPool webapp – Starting with JSON</a></h2>

            
            
            

            <div class="post-content">
                <p>I’m glad I started with the Python for Everybody specialization at Coursera before jumping into Python Jumpstart by building 10 Python Apps by Michael Kennedy. Mr. Kennedy moves <em>fast</em>. I’ve completed the first four apps and it’s good to get a refresher on the information I learned in Python for Everybody.</p>
<p>I also spent part of the weekend sketching in a notebook. I did some brainstorming about the database design I’ll need for NFLPool. I learned one of the bigger differences between MySQL and Postgresql is that MySQL does not have the ability to use foreign keys but MySQL is much faster. The lack of foreign keys may make the design a bit tougher, but more on that later in a different blog post.</p>
<p>I also sketched out some ideas for the functions I’m going to need to write so I’m not writing the same bit of code over and over again. From there, I created a to-do list of things to start working through. I find this whole process of building an app overwhelming. I never thought I’d be using paper and pencil so much, but I’ve found it helpful to break this into smaller chunks and attack them one at a time.</p>
<p>Then I started working on the import process for the JSON. This quickly derailed as I realized just how many stats MySportsFeeds captures from an NFL game. That quickly turned in to writing a JSON pretty print statement so I could see how the five different JSON files nested their dictionaries.</p>
<p>I currently download five JSON files every Tuesday via a cron job with all the statistics. I know my app won’t be ready for the 2016 season and my hope is by having 17 weeks of data, I can re-create the season to test my app to make sure it’s scoring each player correctly as we move through the season week by week. When I download the JSON via curl, it includes all the web headers, such as:</p>
<pre><code>HTTP/1.1 200 OK
Date: Wed, 21 Sep 2016 12:16:07 GMT
Server: Apache-Coyote/1.1
Cache-Control: must-revalidate, no-store, s-maxage=0, max-age=0, private
Access-Control-Allow-Headers: Origin, Content-Type, Accept, Accept-Encoding, Accept-Language, Authorization
Access-Control-Allow-Origin: *
Access-Control-Allow-Credentials: true
Content-Encoding: gzip
Access-Control-Allow-Methods: GET, OPTIONS
Content-Type: application/json
Set-Cookie: JSESSIONID=B7548F2309747418749B5421282A5E08; Path=/leaguemanager-web/; HttpOnly
Vary: User-Agent
Connection: close
Transfer-Encoding: chunked
</code></pre>
<p>And then the JSON starts right after that with curly braces. I was proud of myself as I wrote an if statement to load the file, read the lines, and load the JSON when finding the curly braces. Then I wrote code to first print out all the statistics categories (commented out below) and pretty print all the JSON:</p>
<pre><code>import json
import pprint
import os

#Open the JSON file that includes headers


#Change the name of the file to open to match the query below:
with open(&amp;#039;json/20160921-division-team-standings.json&amp;#039;) as file:
    alltext = file.readlines()  #Put each line into a list

# division-team-standings.json
for lines in alltext:
    if lines.startswith(&amp;#039;{&amp;#039;):
        rawdata = lines
        data = json.loads(rawdata)
#        for stat_categories in data[&quot;divisionteamstandings&quot;][&quot;division&quot;][0][&quot;teamentry&quot;][0][&quot;stats&quot;]:
#            pprint.pprint(stat_categories)   #Print all the categories in &quot;stats&quot;
        pprint.pprint(data)  #Print the JSON
</code></pre>
<p>I had five files to review and I just manually changed the code to the file I wanted and had a code block for each of the files. I know I probably should have just wrote a function, but I was in the zone. (My code probably isn’t very Pythonic either, but I have to start somewhere on this journey). I also know that when it comes time to build the real app I’ll be loading the JSON across the network and not from a local file, but future Paul gets to deal with that.</p>
<p>I also spent some time playing around with the <a href="https://github.com/BurntSushi/nflgame">nflgame</a> and <a href="https://github.com/zachpanz88/mlbgame">mlbgame</a> Python modules. I need to spend some more time with them and I’ll share some thoughts on those in another blog post.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://paulcutler.org/tags/nflpool/">NFLPool</a></span>
        <span class="tag"><a href="https://paulcutler.org/tags/python/">Python</a></span>
        
    </p>

            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://paulcutler.org/categories/python/">Python</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
            <span>Paul Cutler</span><span><a href="https://paulcutler.org/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>

</footer>

            
        </div>

        



<script type="text/javascript" src="https://paulcutler.org/bundle.min.af435e44374f1e99a669ea8cd5bb9a2fceed80588941a451bfddb66b86a67c9f40b0f417e9543a763f809aa7e9300d7b1d69bf99615810ba02ac70396d50fad5.js" integrity="sha512-r0NeRDdPHpmmaeqM1buaL87tgFiJQaRRv922a4amfJ9AsPQX6VQ6dj&#43;AmqfpMA17HWm/mWFYELoCrHA5bVD61Q=="></script>



    </body>
</html>
